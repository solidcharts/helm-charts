nameOverride: ~
fullnameOverride: ~

# This sets the container image more information can be found here: https://kubernetes.io/docs/concepts/containers/images/
image:
  repository: quay.io/thanos/thanos
  # -- Pull policy for images.
  pullPolicy: IfNotPresent
  # -- Overrides the image tag whose default is the chart appVersion.
  tag: ~
  # -- Set image digest
  digest: ~

# This is for the secrets for pulling an image from a private repository more information can be found here: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
imagePullSecrets: []

commons:
  # -- Node selector labels for scheduling for all components.
  nodeSelector: { }

  # -- Affinity settings for scheduling the all components.
  affinity: { }

  # -- Topology spread constraints for scheduling for all components.
  topologySpreadConstraints: [ ]

  # -- Node taints the query pod will tolerate for scheduling for all components.
  tolerations: [ ]

# -- _Kubernetes_ cluster domain.
clusterDomain: cluster.local

objstoreConfig:
  # -- If `true`, create a `Secret` for the objstore store configuration.
  create: true
  # -- (string) If this is set and `objstoreConfig.create` is `true` this will be used for the created secret name, if this is set and `objstoreConfig.create` is `false` then this will define an existing secret to use.
  name:
  # -- Secret key for the objstore configuration.
  key: config
  # -- Objstore configuration; this can either be a string or a map. The default values are not suitable for production.
  value: |-
    type: FILESYSTEM
    config:
      directory: /var/thanos/store/s3

# -- Log level for _Thanos_ components.
logLevel: info

# -- Log format for _Thanos_ components.
logFormat: logfmt

autoGomemlimit:
  # -- If `true`, enable the go runtime to automatically limit memory consumption for all Thanos components by setting GOMEMLIMIT.
  enabled: false
  # -- (float) The ratio of reserved GOMEMLIMIT memory to the detected maximum container or system memory.
  ratio:

# -- If `true`, configure the store endpoints with `--endpoint-group` so they're queried round-robin rather than fanout.
storeEndpointGroup: false

# -- Additional replica labels external to the chart.
additionalReplicaLabels: []

# -- Additional endpoints external to the chart to be configured with `--endpoint`.
additionalEndpoints: []

# -- Additional endpoint groups external to the chart to be configured with `--endpoint-group`.
additionalEndpointGroups: []

serviceMonitor:
  # -- If `true`, create `ServiceMonitor` resources to support collecting metrics via the Prometheus Operator
  enabled: false
  # -- Additional labels for the service monitor.
  additionalLabels: {}
  # -- Label to use as the `jobLabel`.
  jobLabel: app.kubernetes.io/component
  # -- Endpoint configuration for the service monitor endpoint.
  endpointConfig:
    path: /metrics

query:
  # -- If `true`, create component.
  enabled: true

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the query component.
    create: true
    # -- (string) If this is set and `compact.serviceAccount.create` is `true` this will be used for the created query component service account name, if this is set and `compact.serviceAccount.create` is `false` then this will define an existing service account to use for the query component.
    name:
    # -- Labels to add to the query service account.
    labels: {}
    # -- Annotations to add to the query service account.
    annotations: {}
    # -- Automount API credentials for the query service account.
    automountToken: false

  service:
    # -- Service type
    type: ClusterIP
    # -- Service ports
    ports:
      http: 10902
      grpc: 10901
    # -- Annotations to add to service.
    annotations: {}
    # -- (string) Traffic distribution for the query service.
    trafficDistribution:

  ingress:
    # -- If `true`, create an `Ingress` for the query service.
    enabled: false
    # -- Annotations to add to the query service ingress.
    annotations: {}
    # -- Ingress class name for the query service ingress.
    ingressClassName:
    # -- Path for the query service ingress.
    path: /
    # -- Hosts for the query service ingress.
    # @default -- See _values.yaml_
    hosts: []
    #   - chart-example.local
    # -- TLS configuration for the query service ingress.
    # @default -- See _values.yaml_
    tls: []
    #   - hosts:
    #       - chart-example.local
    #     secretName: chart-example-tls

  # -- Number of query replicas to create.
  replicas: 1

  # -- Update strategy for the query deployment.
  updateStrategy: {}

  autoscaling:
    # -- If `true`, create a `HorizontalPodAutoscaler` for the query deployment.
    enabled: false
    # -- Minimum number of query replicas that the HPA should maintain.
    minReplicas: 1
    # -- Maximum number of query replicas that the HPA should create.
    maxReplicas: 3
    # -- Target CPU utilisation percentage for the query pod.
    targetCPUUtilizationPercentage: 80
    # -- (int) Target memory utilisation percentage for the query pod.
    targetMemoryUtilizationPercentage:

  pdb:
    # -- If `true`, create a `PodDisruptionBudget` for the query deployment.
    enabled: false
    # -- (string) Minimum number of query replicas that the PDB should require to be available.
    minAvailable:
    # -- (string) Maximum number of query replicas that the PDB should allow to be unavailable.
    maxUnavailable:
    # -- (string) Unhealthy pod eviction policy for the query PDB.
    unhealthyPodEvictionPolicy:

  # -- Labels to add to the query pod.
  podLabels: {}

  # -- Annotations to add to the query pod.
  podAnnotations: {}

  containerPorts:
    http: 10902
    grpc: 10901

  # -- Security context for the query pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the query pod.
  priorityClassName:

  # -- (int) Termination grace period for the query pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the query pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the query pod default container.
  extraEnv: []

  # -- Additional args for the query pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the query pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the query pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the query pod default container.
  resources: {}

  # -- Extra volumes for the query pod.
  extraVolumes: []

  # -- Extra volume mounts for the query pod default container.
  extraVolumeMounts: []

  # -- Enable DNS service discovery.
  enableDnsDiscovery: true

  # -- Node selector labels for scheduling the pod (override commons).
  # nodeSelector: {}

  # -- Affinity settings for scheduling the pod (override commons).
  # affinity: {}

  # -- Topology spread constraints for scheduling for pod (override commons).
  # topologySpreadConstraints: []

  # -- Node taints pod will tolerate for scheduling (override commons).
  # tolerations: []

queryFrontend:
  # -- If `true`, create the _Thanos Query Frontend_ component.
  enabled: false

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the _Query Frontend_ component.
    create: true
    # -- (string) If this is set and `compact.serviceAccount.create` is `true` this will be used for the created _Query Frontend_ component service account name, if this is set and `compact.serviceAccount.create` is `false` then this will define an existing service account to use for the _Query Frontend_ component.
    name:
    # -- Labels to add to the _Query Frontend_ service account.
    labels: {}
    # -- Annotations to add to the _Query Frontend_ service account.
    annotations: {}
    # -- Automount API credentials for the _Query Frontend_ service account.
    automountToken: false

  service:
    # -- Service type
    type: ClusterIP
    ports:
      http: 10902
    # -- Annotations to add to the _Query Frontend_ service.
    annotations: {}
    # -- (string) Traffic distribution for the _Query Frontend_ service.
    trafficDistribution: ~

  ingress:
    # -- If `true`, create an `Ingress` for the _Query Frontend_ service.
    enabled: false
    # -- Annotations to add to the _Query Frontend_ service ingress.
    annotations: {}
    # -- Ingress class name for the _Query Frontend_ service ingress.
    ingressClassName:
    # -- Path for the _Query Frontend_ service ingress.
    path: /
    # -- Hosts for the _Query Frontend_ service ingress.
    # @default -- See _values.yaml_
    hosts: []
    #   - chart-example.local
    # -- TLS configuration for the _Query Frontend_ service ingress.
    # @default -- See _values.yaml_
    tls: []
    #   - hosts:
    #       - chart-example.local
    #     secretName: chart-example-tls

  # -- Number of _Query Frontend_ replicas to create.
  replicas: 1

  # -- Update strategy for the _Query Frontend_ deployment.
  updateStrategy: {}

  autoscaling:
    # -- If `true`, create a `HorizontalPodAutoscaler` for the _Query Frontend_ deployment.
    enabled: false
    # -- Minimum number of _Query Frontend_ replicas that the HPA should maintain.
    minReplicas: 1
    # -- Maximum number of _Query Frontend_ replicas that the HPA should create.
    maxReplicas: 3
    # -- Target CPU utilisation percentage for the _Query Frontend_ pod.
    targetCPUUtilizationPercentage: 80
    # -- (int) Target memory utilisation percentage for the _Query Frontend_ pod.
    targetMemoryUtilizationPercentage:

  pdb:
    # -- If `true`, create a `PodDisruptionBudget` for the _Query Frontend_ deployment.
    enabled: false
    # -- (string) Minimum number of _Query Frontend_ replicas that the PDB should require to be available.
    minAvailable:
    # -- (string) Maximum number of _Query Frontend_ replicas that the PDB should allow to be unavailable.
    maxUnavailable:
    # -- (string) Unhealthy pod eviction policy for the _Query Frontend_ PDB.
    unhealthyPodEvictionPolicy:

  # -- Labels to add to the _Query Frontend_ pod.
  podLabels: {}

  # -- Annotations to add to the _Query Frontend_ pod.
  podAnnotations: {}

  containerPorts:
    http: 10902

  # -- Security context for the _Query Frontend_ pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the _Query Frontend_ pod.
  priorityClassName:

  # -- (int) Termination grace period for the _Query Frontend_ pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the _Query Frontend_ pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the _Query Frontend_ pod default container.
  extraEnv: []

  # -- Additional args for the _Query Frontend_ pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the _Query Frontend_ pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the _Query Frontend_ pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the _Query Frontend_ pod default container.
  resources: {}

  # -- Extra volumes for the _Query Frontend_ pod.
  extraVolumes: []

  # -- Extra volume mounts for the _Query Frontend_ pod default container.
  extraVolumeMounts: []

  # -- Node selector labels for scheduling the pod (override commons).
  # nodeSelector: {}

  # -- Affinity settings for scheduling the pod (override commons).
  # affinity: {}

  # -- Topology spread constraints for scheduling for pod (override commons).
  # topologySpreadConstraints: []

  # -- Node taints pod will tolerate for scheduling (override commons).
  # tolerations: []

storeGateway:
  # -- If `true`, create the _Store Gateway_ component.
  enabled: true

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the _Store Gateway_ component.
    create: true
    # -- (string) If this is set and `compact.serviceAccount.create` is `true` this will be used for the created _Store Gateway_ component service account name, if this is set and `compact.serviceAccount.create` is `false` then this will define an existing service account to use for the _Store Gateway_ component.
    name:
    # -- Labels to add to the _Store Gateway_ service account.
    labels: {}
    # -- Annotations to add to the _Store Gateway_ service account.
    annotations: {}
    # -- Automount API credentials for the _Store Gateway_ service account.
    automountToken: false

  service:
    # -- Service ports
    ports:
      http: 10902
      grpc: 10901
    # -- Annotations to add to the _Store Gateway_ service.
    annotations: {}
    # -- (string) Traffic distribution for the _Store Gateway_ service.
    trafficDistribution:

  # -- Number of _Store Gateway_ replicas to create.
  replicas: 1

  # -- Update strategy for the _Store Gateway_ stateful set.
  updateStrategy: {}

  pdb:
    # -- If `true`, create a `PodDisruptionBudget` for the _Store Gateway_ stateful set.
    enabled: false
    # -- (string) Minimum number of _Store Gateway_ replicas that the PDB should require to be available.
    minAvailable:
    # -- (string) Maximum number of _Store Gateway_ replicas that the PDB should allow to be unavailable.
    maxUnavailable:
    # -- (string) Unhealthy pod eviction policy for the _Store Gateway_ PDB.
    unhealthyPodEvictionPolicy:

  # -- Labels to add to the _Store Gateway_ pod.
  podLabels: {}

  # -- Annotations to add to the _Store Gateway_ pod.
  podAnnotations: {}

  containerPorts:
    http: 10902
    grpc: 10901

  # -- Security context for the _Store Gateway_ pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the _Store Gateway_ pod.
  priorityClassName:

  # -- (int) Termination grace period for the _Store Gateway_ pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the _Store Gateway_ pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the _Store Gateway_ pod default container.
  extraEnv: []

  # -- Additional args for the _Store Gateway_ pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the _Store Gateway_ pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the _Store Gateway_ pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the _Store Gateway_ pod default container.
  resources: {}

  # -- Extra volumes for the _Store Gateway_ pod.
  extraVolumes: []

  # -- Extra volume mounts for the _Store Gateway_ pod default container.
  extraVolumeMounts: []

  persistence:
    # -- If `true`, create a `PersistentVolumeClaim` for the _Store Gateway_ pod data.
    enabled: false
    # -- Annotations to add to the _Store Gateway_ pod PVC.
    annotations: {}
    # -- Access mode for the _Store Gateway_ pod PVC.
    accessMode: ReadWriteOnce
    # -- Storage class for the _Store Gateway_ pod PVC.
    storageClass: ""
    # -- Size for the _Store Gateway_ pod PVC.
    size: 8Gi
    # -- If `true`, retain the _Store Gateway_ PVC after the pod is deleted.
    retainDeleted: true
    # -- If `true`, retain the _Store Gateway_ PVC after the pod is scaled down.
    retainScaled: true

  # -- Node selector labels for scheduling the pod (override commons).
  # nodeSelector: {}

  # -- Affinity settings for scheduling the pod (override commons).
  # affinity: {}

  # -- Topology spread constraints for scheduling for pod (override commons).
  # topologySpreadConstraints: []

  # -- Node taints pod will tolerate for scheduling (override commons).
  # tolerations: []

compactor:
  # -- If `true`, create component.
  enabled: false

  deduplication:
    # -- If `true`, enable deduplication via the _Compact_ component.
    enabled: true
    # -- (string) If specified override the default deduplication function.
    func:

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the _Compact_ component.
    create: true
    # -- (string) If this is set and `compact.serviceAccount.create` is `true` this will be used for the created _Compact_ component service account name, if this is set and `compact.serviceAccount.create` is `false` then this will define an existing service account to use for the _Compact_ component.
    name:
    # -- Labels to add to the _Compact_ service account.
    labels: {}
    # -- Annotations to add to the _Compact_ service account.
    annotations: {}
    # -- Automount API credentials for the _Compact_ service account.
    automountToken: false

  service:
    # -- Service ports
    ports:
      http: 10902
    # -- Annotations to add to the _Compact_ service.
    annotations: {}

  # -- Update strategy for the _Compact_ stateful set.
  updateStrategy: {}

  # -- Labels to add to the _Compact_ pod.
  podLabels: {}

  # -- Annotations to add to the _Compact_ pod.
  podAnnotations: {}

  containerPorts:
    http: 10902

  # -- Security context for the _Compact_ pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the _Compact_ pod.
  priorityClassName:

  # -- (int) Termination grace period for the _Compact_ pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the _Compact_ pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the _Compact_ pod default container.
  extraEnv: []

  # -- Additional args for the _Compact_ pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the _Compact_ pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the _Compact_ pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the _Compact_ pod default container.
  resources: {}

  persistence:
    # -- If `true`, create a `PersistentVolumeClaim` for the _Compact_ pod data.
    enabled: false
    # -- Annotations to add to the _Compact_ pod PVC.
    annotations: {}
    # -- Access mode for the _Compact_ pod PVC.
    accessMode: ReadWriteOnce
    # -- Storage class for the pod PVC.
    storageClass: ""
    # -- Size for the _Compact_ pod PVC.
    size: 8Gi
    # -- If `true`, retain the _Compact_ PVC after the pod is deleted.
    retainDeleted: true
    # -- If `true`, retain the _Compact_ PVC after the pod is scaled down.
    retainScaled: true

  # -- Extra volumes for the _Compact_ pod.
  extraVolumes: []

  # -- Extra volume mounts for the _Compact_ pod default container.
  extraVolumeMounts: []

  # -- Node selector labels for scheduling the pod (override commons).
  # nodeSelector: {}

  # -- Affinity settings for scheduling the pod (override commons).
  # affinity: {}

  # -- Topology spread constraints for scheduling for pod (override commons).
  # topologySpreadConstraints: []

  # -- Node taints pod will tolerate for scheduling (override commons).
  # tolerations: []

ruler:
  # -- If `true`, create the _Thanos Rule_ component.
  enabled: false

  # -- If `true`, add a `thanos_rule` label to `<NAMESPACE>/<RULE_FULLNAME>` on a `Rule` metrics.
  instanceLabel: false

  # -- Local disk block retention period for the _Rule_ component (`--tsdb.retention`).
  retention: 48h

  # -- Block duration for the _Rule_ component (`--tsdb.block-duration`).
  blockDuration: 2h

  # -- Rule eval interval for the _Rule_ component (`--eval-interval`).
  evalInterval: 1m

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the _Rule_ component.
    create: true
    # -- (string) If this is set and `compact.serviceAccount.create` is `true` this will be used for the created _Rule_ component service account name, if this is set and `compact.serviceAccount.create` is `false` then this will define an existing service account to use for the _Rule_ component.
    name:
    # -- Labels to add to the _Rule_ service account.
    labels: {}
    # -- Annotations to add to the _Rule_ service account.
    annotations: {}
    # -- Automount API credentials for the _Rule_ service account.
    automountToken: false

  service:
    # -- Service type
    type: ClusterIP
    # -- Service ports
    ports:
      http: 10902
      grpc: 10901
    # -- Annotations to add to the _Rule_ service.
    annotations: {}
    # -- (string) Traffic distribution for service.
    trafficDistribution: ~

  ingress:
    # -- If `true`, create an `Ingress` for the _Rule_ service.
    enabled: false
    # -- Annotations to add to the _Rule_ service ingress.
    annotations: {}
    # -- Ingress class name for the _Rule_ service ingress.
    ingressClassName:
    # -- Path for the _Rule_ service ingress.
    path: /
    # -- Hosts for the _Rule_ service ingress.
    # @default -- See _values.yaml_
    hosts: []
    #   - chart-example.local
    # -- TLS configuration for the _Rule_ service ingress.
    # @default -- See _values.yaml_
    tls: []
    #   - hosts:
    #       - chart-example.local
    #     secretName: chart-example-tls

  # -- Number of _Rule_ replicas to create.
  replicas: 1

  # -- Update strategy for the _Rule_ stateful set.
  updateStrategy: {}

  pdb:
    # -- If `true`, create a `PodDisruptionBudget` for the _Rule_ stateful set.
    enabled: false
    # -- (string) Minimum number of _Rule_ replicas that the PDB should require to be available.
    minAvailable:
    # -- (string) Maximum number of _Rule_ replicas that the PDB should allow to be unavailable.
    maxUnavailable:
    # -- (string) Unhealthy pod eviction policy for the _Rule_ PDB.
    unhealthyPodEvictionPolicy:

  # -- Labels to add to the _Rule_ pod.
  podLabels: {}

  # -- Annotations to add to the _Rule_ pod.
  podAnnotations: {}

  containerPorts:
    http: 10902
    grpc: 10901

  # -- Security context for the _Rule_ pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the _Rule_ pod.
  priorityClassName:

  # -- (int) Termination grace period for the _Rule_ pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the _Rule_ pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the _Rule_ pod default container.
  extraEnv: []

  # -- Additional args for the _Rule_ pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the _Rule_ pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the _Rule_ pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the _Rule_ pod default container.
  resources: {}

  persistence:
    # -- If `true`, create a `PersistentVolumeClaim` for the _Rule_ pod data.
    enabled: false
    # -- Annotations to add to the _Rule_ pod PVC.
    annotations: {}
    # -- Access mode for the _Rule_ pod PVC.
    accessMode: ReadWriteOnce
    # -- Storage class for the _Rule_ pod PVC.
    storageClass: ""
    # -- Size for the _Rule_ pod PVC.
    size: 8Gi
    # -- If `true`, retain the _Rule_ PVC after the pod is deleted.
    retainDeleted: true
    # -- If `true`, retain the _Rule_ PVC after the pod is scaled down.
    retainScaled: true

  # -- Extra volumes for the _Rule_ pod.
  extraVolumes: []

  # -- Extra volume mounts for the _Rule_ pod default container.
  extraVolumeMounts: []

  configReloader:
    # -- If `true`, create the _Rule_ pod config reloader sidecar container.
    enabled: true
    image:
      # -- Image repository for the _Rule_ pod config reloader sidecar container.
      repository: ghcr.io/jimmidyson/configmap-reload
      # -- Image tag for the _Rule_ pod config reloader sidecar container.
      tag: v0.15.0
      # -- Image digest for the _Rule_ pod config reloader sidecar container.
      digest:
      # -- Image pull policy for the _Rule_ pod config reloader sidecar container.
      pullPolicy: IfNotPresent
    # -- Resources for the _Rule_ pod config reloader sidecar container.
    resources: {}
    # -- Extra volume mounts for the _Rule_ pod config reloader sidecar container.
    extraVolumeMounts: []

    # -- Node selector labels for scheduling the pod (override commons).
    # nodeSelector: {}

    # -- Affinity settings for scheduling the pod (override commons).
    # affinity: {}

    # -- Topology spread constraints for scheduling for pod (override commons).
    # topologySpreadConstraints: []

    # -- Node taints pod will tolerate for scheduling (override commons).
    # tolerations: []

  alertmanagersConfig:
    # -- If `true`, create a `Secret` for the _Rule_ component alertmanagers configuration.
    create: true
    # -- (string) If this is set and `rule.alertmanagersConfig.create` is `true` this will be used for the created secret name, if this is set and `rule.alertmanagersConfig.create` is `false` then this will define an existing secret to use.
    name:
    # -- Secret key for the _Rule_ component alertmanagers configuration.
    key: config
    # -- Alert managers configuration for the _Rule_ component.
    value: |-
      alertmanagers: []

  rules:
    # -- If `true`, create a `ConfigMap` for the _Rule_ component rules.
    create: true
    # -- (string) If this is set and `rule.rules.create` is `true` this will be used for the created config map name, if this is set and `rule.rules.create` is `false` then this will define an existing config map to use.
    name:
    # Rules for the _Rule_ component.
    value: ~

receiver:
  # -- If `true`, create the _Thanos Receive Ingestor_ & _Thanos Receive Router_ components.
  enabled: false


bucketweb:
  # -- If `true`, create the bucket web component.
  enabled: false

  refresh: "30m"
  timeout: "5m"

  serviceAccount:
    # -- If `true`, create a new `ServiceAccount` for the component.
    create: true
    # -- (string) If this is set and `bucketweb.serviceAccount.create` is `true` this will be used for the created bucket web component service account name, if this is set and `bucketweb.serviceAccount.create` is `false` then this will define an existing service account to use for the bucket web component.
    name: ~
    # -- Labels to add to the bucket web service account.
    labels: {}
    # -- Annotations to add to the bucket web service account.
    annotations: {}
    # -- Automount API credentials for the bucket web service account.
    automountToken: false

  service:
    # -- Service type for the service.
    type: ClusterIP
    # -- (int) Port for the service.
    ports:
      http: 10902
    # -- Annotations to add to the service.
    annotations: {}
    # -- (string) Traffic distribution for service.
    trafficDistribution: ~

  ingress:
    # -- If `true`, create an `Ingress` for the bucket web service.
    enabled: false
    # -- Annotations to add to the bucket web service ingress.
    annotations: {}
    # -- Ingress class name for the bucket web service ingress.
    ingressClassName:
    # -- Path for the bucket web service ingress.
    path: /
    # -- Hosts for the bucket web service ingress.
    # @default -- See _values.yaml_
    hosts: []
    #   - chart-example.local
    # -- TLS configuration for the bucket web service ingress.
    # @default -- See _values.yaml_
    tls: []
    #   - hosts:
    #       - chart-example.local
    #     secretName: chart-example-tls

  # -- Number of bucket web replicas to create.
  replicas: 1

  # -- Update strategy for the bucket web deployment.
  updateStrategy: {}

  autoscaling:
    # -- If `true`, create a `HorizontalPodAutoscaler` for the bucket web deployment.
    enabled: false
    # -- Minimum number of bucket web replicas that the HPA should maintain.
    minReplicas: 1
    # -- Maximum number of bucket web replicas that the HPA should create.
    maxReplicas: 3
    # -- Target CPU utilization percentage for the bucket web pod.
    targetCPUUtilizationPercentage: 80
    # -- (int) Target memory utilization percentage for the bucket web pod.
    targetMemoryUtilizationPercentage: ~

  pdb:
    # -- If `true`, create a `PodDisruptionBudget` for the bucket web deployment.
    enabled: false
    # -- (string) Minimum number of bucket web replicas that the PDB should require to be available.
    minAvailable:
    # -- (string) Maximum number of bucket web replicas that the PDB should allow to be unavailable.
    maxUnavailable:
    # -- (string) Unhealthy pod eviction policy for the bucket web PDB.
    unhealthyPodEvictionPolicy:

  # -- Labels to add to the bucket web pod.
  podLabels: {}

  # -- Annotations to add to the bucket web pod.
  podAnnotations: {}

  containerPorts:
    http: 10902

  # -- Security context for the bucket web pod.
  # @default -- See _values.yaml_
  podSecurityContext:
    fsGroup: 65534
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- (string) Priority class name for the bucket web pod.
  priorityClassName:

  # -- (int) Termination grace period for the bucket web pod; in seconds.
  terminationGracePeriodSeconds:

  # -- Security context for the bucket web pod default container.
  # @default -- See _values.yaml_
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65534
    seccompProfile:
      type: RuntimeDefault

  # -- Additional environment variables for the bucket web pod default container.
  extraEnv: []

  # -- Additional args for the bucket web pod default container.
  extraArgs: []

  # -- Liveness probe configuration for the bucket web pod default container.
  # @default -- See _values.yaml_
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 30
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 4

  # -- Readiness probe configuration for the bucket web pod default container.
  # @default -- See _values.yaml_
  readinessProbe:
    httpGet:
      path: /-/ready
      port: http
      scheme: HTTP
    initialDelaySeconds: 0
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 20

  # -- Resources for the bucket web pod default container.
  resources: {}

  # -- Extra volumes for the bucket web pod.
  extraVolumes: []

  # -- Extra volume mounts for the bucket web pod default container.
  extraVolumeMounts: []

  # -- Node selector labels for scheduling the pod (override commons).
  # nodeSelector: {}

  # -- Affinity settings for scheduling the pod (override commons).
  # affinity: {}

  # -- Topology spread constraints for scheduling for pod (override commons).
  # topologySpreadConstraints: []

  # -- Node taints pod will tolerate for scheduling (override commons).
  # tolerations: []
